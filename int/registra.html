<!DOCTYPE html>

<html lang="pt-br">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>login</title>

    <link rel="stylesheet" href="dslogin.css">

</head>

<body>

    <main>

        <section id="auth" class="auth">

            <h2>√Årea do Usu√°rio</h2>

            <div id="login-section">

                <h3>Entrar</h3>

                <input type="text" id="login-email" placeholder="Email">

                <input type="password" id="login-senha" placeholder="Senha">

                <button id="btn-login">Entrar</button>

                <p>Ainda n√£o tem conta? <a href="#" id="link-cadastro">Cadastre-se</a></p>

            </div>

           

            <div id="cadastro-section" style="display: none;">

                <h3>Criar Conta</h3>

                <input type="text" id="cadastro-nome" placeholder="Nome completo">

                <input type="text" id="cadastro-email" placeholder="Email">

                <input type="password" id="cadastro-senha" placeholder="Senha">

                <button id="btn-cadastrar">Cadastrar</button>

                <p>J√° tem conta? <a href="#" id="link-login">Fazer login</a></p>

            </div>

        </section>

    </main>



    <script>

        // 1. Obter refer√™ncias dos elementos

        const loginSection = document.getElementById('login-section');

        const cadastroSection = document.getElementById('cadastro-section');

        const linkCadastro = document.getElementById('link-cadastro');

        const linkLogin = document.getElementById('link-login');



        // 2. Fun√ß√£o para mostrar a se√ß√£o de Cadastro e ocultar a de Login

        function mostrarCadastro() {

            loginSection.style.display = 'none';

            cadastroSection.style.display = 'flex';

        }



        // 3. Fun√ß√£o para mostrar a se√ß√£o de Login e ocultar a de Cadastro

        function mostrarLogin() {

            cadastroSection.style.display = 'none';

            loginSection.style.display = 'flex';

        }



        // 4. Adicionar eventos de clique aos links

        linkCadastro.addEventListener('click', function(event) {

            event.preventDefault();

            mostrarCadastro();

        });



        linkLogin.addEventListener('click', function(event) {

            event.preventDefault();

            mostrarLogin();

        });



        // 5. Obter refer√™ncias para os campos e bot√µes de A√ß√£o

        const inputCadastroNome = document.getElementById('cadastro-nome');

        const inputCadastroEmail = document.getElementById('cadastro-email');

        const inputCadastroSenha = document.getElementById('cadastro-senha');

        const btnCadastrar = document.getElementById('btn-cadastrar');



        const inputLoginEmail = document.getElementById('login-email');

        const inputLoginSenha = document.getElementById('login-senha');

        const btnLogin = document.getElementById('btn-login');



        // --- Fun√ß√µes de Salvar e Validar ---



        // 6. Fun√ß√£o para Salvar Cadastro no localStorage

        function salvarCadastro() {

            const nome = inputCadastroNome.value.trim();

            const email = inputCadastroEmail.value.trim();

            const senha = inputCadastroSenha.value.trim();



            if (nome === '' || email === '' || senha === '') {

                alert('Por favor, preencha todos os campos do cadastro.');

                return;

            }



            // Cria um objeto com os dados do usu√°rio

            const novoUsuario = {

                nome: nome,

                email: email,

                senha: senha // Em um app real, a senha seria HASHED, NUNCA salva em texto simples!

            };



            // Pega a lista de usu√°rios existente (ou cria uma nova se n√£o houver)

            let usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];



            // Verifica se o email j√° est√° cadastrado

            const emailExistente = usuarios.some(u => u.email === email);

            if (emailExistente) {

                alert('Este e-mail j√° est√° cadastrado. Tente fazer login.');

                return;

            }



            // Adiciona o novo usu√°rio √† lista

            usuarios.push(novoUsuario);



            // Salva a lista atualizada no localStorage, convertendo para JSON

            localStorage.setItem('usuarios', JSON.stringify(usuarios));



            alert('Cadastro realizado com sucesso! Agora voc√™ pode fazer o login.');

            // Volta para a tela de login ap√≥s o cadastro

            mostrarLogin();

           

            // Limpa os campos ap√≥s o cadastro

            inputCadastroNome.value = '';

            inputCadastroEmail.value = '';

            inputCadastroSenha.value = '';

        }



        // 7. Fun√ß√£o para Validar Login (AGORA COM REDIRECIONAMENTO!)

        function fazerLogin() {

            const emailDigitado = inputLoginEmail.value.trim();

            const senhaDigitada = inputLoginSenha.value.trim();



            if (emailDigitado === '' || senhaDigitada === '') {

                alert('Por favor, preencha o email e a senha.');

                return;

            }



            // Pega a lista de usu√°rios do localStorage

            let usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];



            // Tenta encontrar um usu√°rio que corresponda ao email E √† senha

            const usuarioEncontrado = usuarios.find(usuario =>

                usuario.email === emailDigitado && usuario.senha === senhaDigitada

            );



            if (usuarioEncontrado) {

                alert(`Login realizado com sucesso! Bem-vindo(a), ${usuarioEncontrado.nome}.`);

               

                // üîë AQUI EST√Å O REDIRECIONAMENTO!

                // Altere 'xxxxxxxxxxxxxxxxxx' pelo nome exato do seu arquivo HTML.

                window.location.href = 'texto.html';

               

                // Limpa os campos ap√≥s o login

                inputLoginEmail.value = '';

                inputLoginSenha.value = '';

            } else {

                alert('Credenciais inv√°lidas. Verifique seu e-mail e senha.');

            }

        }



        // 8. Adicionar eventos de clique aos bot√µes

        btnCadastrar.addEventListener('click', salvarCadastro);

        btnLogin.addEventListener('click', fazerLogin);

    </script>

</body>

</html>